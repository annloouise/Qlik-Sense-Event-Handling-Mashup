<!doctype html>
<html qva-bootstrap="false">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Events in Capability APIs demo</title>
	<meta charset="utf-8">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta http-equiv="cleartype" content="on">
	<link rel="stylesheet" href="../../resources/autogenerated/qlik-styles.css">
	<link rel="stylesheet" href="qevent-mashup.css">
	<script src="../../resources/assets/external/requirejs/require.js"></script>
	<script src="qevent-mashup.js"></script>
</head>
<body ng-controller="myController">
<div class="header-wrapper">
	<div class="header">Events in Capability APIs demo</div>
</div>
<div class="flex-container">
	<div class="error-div">
		<div class="info">
			app.on("error", function ( error ) {<br>
			&emsp;&emsp;&emsp;&emsp;showPopup("Error", error.message);<br>
			} );<br><br>
			app.getObject('wrong id');
		</div>
		<button class="action-wrap" ng-click="openObject()" ng-disabled="!appIsOpen" ng-class="{ 'disabled': !appIsOpen }">
			<span>Open a non existing object</span>
		</button>
	</div>
	<div class="multiple-div">
		<div class="info">
			app.on("error", function ( error ) {<br>
			&emsp;&emsp;&emsp;&emsp;showPopup("Error nr 1", error.message);<br>
			} );<br><br>
			app.on("error", function ( error ) {<br>
			&emsp;&emsp;&emsp;&emsp;showPopup("Error nr 2", error.message);<br>
			} );<br><br>
			app.getObject('wrong id');
		</div>
		<button class="action-wrap" ng-click="triggerMultiplelisteners()" ng-disabled="!appIsOpen" ng-class="{ 'disabled': !appIsOpen }">
			<span>Multiple listeners</span>
		</button>
	</div>
	<div class="close-div">
		<div class="info">
			app.on("closed", function ( closed ) {<br>
			&emsp;&emsp;&emsp;&emsp;showPopup("Closed", closed.message);<br>
			} );<br><br>
			app.close();
		</div>
		<button class="action-wrap" ng-click="closeApp()" ng-disabled="!appIsOpen" ng-class="{ 'disabled': !appIsOpen }">
			<span>Close the app</span>
		</button>
		<button class="open-app" ng-click="openApp()" ng-disabled="appIsOpen" ng-class="{ 'disabled': appIsOpen }">Open app</button>
	</div>
</div>
<div class="first-pop-up pop-up-wrapper">
	<div class="pop-up">
		<div class="close-pop-up" ng-click="closePopup($event)">×</div>
		<div class="error-msg">
			<div class="title"></div>
			<div class="message"></div>
		</div>
	</div>
</div>
<div class="second-pop-up pop-up-wrapper">
	<div class="pop-up">
		<div class="close-pop-up" ng-click="closePopup($event)">×</div>
		<div class="error-msg">
			<div class="title"></div>
			<div class="message"></div>
		</div>
	</div>
</div>

</body>
</html>
